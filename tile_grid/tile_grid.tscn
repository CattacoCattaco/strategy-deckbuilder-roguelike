[gd_scene load_steps=23 format=3 uid="uid://b3li581ttt0ou"]

[ext_resource type="Script" uid="uid://dv8bcihoqww0t" path="res://tile_grid/tile_grid.gd" id="1_slx1t"]
[ext_resource type="PackedScene" uid="uid://bpsyv3nuyvf5d" path="res://tile_grid/tile/tile.tscn" id="2_fwkuo"]
[ext_resource type="Script" uid="uid://cn56h7lmh3kpr" path="res://camera/draggable_camera.gd" id="3_gjkwh"]
[ext_resource type="Script" uid="uid://cvaphaq5sg73r" path="res://tile_grid/level_builder/level_builder.gd" id="3_tunm5"]
[ext_resource type="Resource" uid="uid://dy6mxnqsycfeo" path="res://tile_grid/tile/tile_object/data/objects/red_tile.tres" id="4_0vku6"]
[ext_resource type="Resource" uid="uid://dbbpwgdj87um5" path="res://tile_grid/tile/tile_object/data/objects/player.tres" id="4_kqtwp"]
[ext_resource type="Script" uid="uid://g0hmwqu3bxiu" path="res://tile_grid/tile/tile_object/data/tile_object_data.gd" id="4_t02f7"]
[ext_resource type="Resource" uid="uid://dq2vskswinh63" path="res://tile_grid/tile/tile_object/data/objects/acid.tres" id="5_pf1a3"]
[ext_resource type="Resource" uid="uid://ccciw1ve4yhmy" path="res://tile_grid/tile/tile_object/data/objects/tree.tres" id="6_pf1a3"]
[ext_resource type="Script" uid="uid://drke1av0c1b7k" path="res://tile_grid/round_manager/round_manager.gd" id="8_5axyk"]
[ext_resource type="Resource" uid="uid://c6m158xb2ol3q" path="res://tile_grid/tile/tile_object/data/objects/aggressive_bot.tres" id="9_eoot7"]
[ext_resource type="Resource" uid="uid://cfdfyqpbcdxpb" path="res://tile_grid/tile/tile_object/data/objects/fear_bot.tres" id="10_jp86b"]
[ext_resource type="PackedScene" uid="uid://b2b416pbggqo4" path="res://card/card.tscn" id="11_d6b8m"]
[ext_resource type="Script" uid="uid://bji1oaue4cmst" path="res://card/hand/hand.gd" id="11_pawdl"]
[ext_resource type="Script" uid="uid://ctbryeqoij1nf" path="res://card/deck/deck.gd" id="13_3s7rm"]
[ext_resource type="FontFile" uid="uid://dcmcrpk7us45q" path="res://font/Wild Jam 87 Font.ttf" id="14_ofus2"]
[ext_resource type="Texture2D" uid="uid://ba2p5h8us83x2" path="res://buttons/pass.png" id="16_6mnwf"]
[ext_resource type="BitMap" uid="uid://4t61j2twqjb8" path="res://buttons/pass_map.png" id="17_eoot7"]

[sub_resource type="LabelSettings" id="LabelSettings_kqtwp"]
font = ExtResource("14_ofus2")
font_size = 64
font_color = Color(0.8745098, 0.8745098, 0.8745098, 1)

[sub_resource type="AtlasTexture" id="AtlasTexture_jp86b"]
atlas = ExtResource("16_6mnwf")
region = Rect2(0, 0, 48, 20)

[sub_resource type="AtlasTexture" id="AtlasTexture_yps0e"]
atlas = ExtResource("16_6mnwf")
region = Rect2(0, 40, 48, 20)

[sub_resource type="AtlasTexture" id="AtlasTexture_8yilv"]
atlas = ExtResource("16_6mnwf")
region = Rect2(0, 20, 48, 20)

[node name="TileGrid" type="Node2D" node_paths=PackedStringArray("level_builder", "round_manager", "camera", "hand", "your_turn_label")]
script = ExtResource("1_slx1t")
tile_scene = ExtResource("2_fwkuo")
level_builder = NodePath("LevelBuilder")
round_manager = NodePath("RoundManager")
camera = NodePath("DraggableCamera")
hand = NodePath("DraggableCamera/UI/Hand")
your_turn_label = NodePath("DraggableCamera/UI/YourTurnLabel")
size = Vector2i(10, 10)

[node name="LevelBuilder" type="Node2D" parent="." node_paths=PackedStringArray("tile_grid")]
script = ExtResource("3_tunm5")
tile_grid = NodePath("..")
density = 3
player_data = ExtResource("4_kqtwp")
movement_region_object_data = ExtResource("4_0vku6")
clump_obstacles = Array[ExtResource("4_t02f7")]([ExtResource("6_pf1a3")])
clump_obstacle_weights = Array[int]([1])
single_obstacles = Array[ExtResource("4_t02f7")]([ExtResource("5_pf1a3"), ExtResource("6_pf1a3")])
single_obstacle_weights = Array[int]([1, 2])
enemies = Array[ExtResource("4_t02f7")]([ExtResource("9_eoot7"), ExtResource("10_jp86b")])
enemy_weights = Array[int]([1, 1])

[node name="RoundManager" type="Node2D" parent="." node_paths=PackedStringArray("tile_grid")]
script = ExtResource("8_5axyk")
tile_grid = NodePath("..")

[node name="DraggableCamera" type="Camera2D" parent="." node_paths=PackedStringArray("tile_grid")]
script = ExtResource("3_gjkwh")
tile_grid = NodePath("..")

[node name="UI" type="Control" parent="DraggableCamera"]
z_index = 10
custom_minimum_size = Vector2(960, 540)
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="Deck" type="Control" parent="DraggableCamera/UI"]
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("13_3s7rm")

[node name="Hand" type="HBoxContainer" parent="DraggableCamera/UI" node_paths=PackedStringArray("tile_grid", "deck", "pass_button")]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_bottom = 120.0
grow_horizontal = 2
grow_vertical = 0
script = ExtResource("11_pawdl")
card_scene = ExtResource("11_d6b8m")
tile_grid = NodePath("../../..")
deck = NodePath("../Deck")
pass_button = NodePath("../PassButton")

[node name="YourTurnLabel" type="Label" parent="DraggableCamera/UI"]
visible = false
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -11.5
offset_right = 20.0
offset_bottom = 11.5
grow_horizontal = 2
grow_vertical = 2
text = "Your Turn!"
label_settings = SubResource("LabelSettings_kqtwp")
horizontal_alignment = 1
vertical_alignment = 1

[node name="PassButton" type="TextureButton" parent="DraggableCamera/UI"]
layout_mode = 0
offset_left = 10.0
offset_top = 10.0
offset_right = 58.0
offset_bottom = 30.0
texture_normal = SubResource("AtlasTexture_jp86b")
texture_pressed = SubResource("AtlasTexture_yps0e")
texture_hover = SubResource("AtlasTexture_8yilv")
texture_click_mask = ExtResource("17_eoot7")
